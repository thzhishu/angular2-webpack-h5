<div class="win">
    <div class="win-block">
        <header class="header header-default">
            <div class="title">注册</div>
            <a class="btn btn-default btn-right" routerLink="/login">登录</a>
        </header>
        <form (ngSubmit)="onRegister(rForm)" #rForm="ngForm" novalidate>
        <div class="content">
            <div class="input-group" [class.error]="!phone?.valid&&false">
                <input type="text" class="input" name="phone" [(ngModel)]="user.phone" maxlength="20"  #phone="ngModel" required placeholder="请输入您的手机号码" pattern="^(13[0-9]|15[012356789]|17[0135678]|18[0-9]|14[57])[0-9]{8}$">
            </div>
            <div class="input-group" [class.error]="!rnd?.valid&&false">
                <input type="text" class="input input-50" name="rnd" maxlength="4" [(ngModel)]="user.rnd"  #rnd="ngModel" required placeholder="请输入右侧图形验证码">
                <img [src]="img" alt="" class="input-img" (click)="onChangeCodeImg()" />
                <a md-button color="primary" (click)="onChangeCodeImg()" class="input-btn btn btn-link">换一张</a>
            </div>
            <div class="input-group" [class.error]="!code?.valid&&false">
                <input type="text" class="input input-50" name="code" maxlength="4" [(ngModel)]="user.code"  #rnd="ngModel" required placeholder="请输入短信验证码">
                <a md-button color="primary" [disabled]="seekDisabeld" (click)="!seekDisabeld&&onSeekPhone(user.phone,user.rnd)" class="input-btn-info btn btn-info">{{seekBtnTitle}}</a>
            </div>
            <div class="input-group" [class.error]="!pwd?.valid&&false">
                <input type="password" class="input" name="pwd" [(ngModel)]="user.pwd" maxlength="20"  #pwd="ngModel" required placeholder="请设置您的密码">
            </div>
            <div class="text-group">
                <label for="protocol" class="text-default"><input type="checkbox" name="protocol" value="" [(ngModel)]="user.protocol" id="protocol">
                    我已接受<span class="text-primary">《<a href="javascript:void(0);" class="protocol text-primary" (click)="onOpenProtocol()">天会智数隐私协议</a>》</span></label>
            </div>
        </div>
        <div class="alert-error" *ngIf="errorMsg">
            {{errorMsg}}
        </div>
        <div class="btn-block">
            <button type="submit" class="btn btn-primary" [disabled]="loading" >注&nbsp;&nbsp;册</button>
        </div>
    </form>
    </div>
</div>
